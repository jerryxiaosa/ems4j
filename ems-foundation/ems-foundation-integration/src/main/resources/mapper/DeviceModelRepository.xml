<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="info.zhihui.ems.foundation.integration.core.repository.DeviceModelRepository">

  <select id="findList"  resultType="info.zhihui.ems.foundation.integration.core.entity.DeviceModelEntity">
      select
      *
      from device_model
      <where>
          is_deleted = 0
          <if test="typeIds != null and typeIds.size() > 0">
              and type_id in
              <foreach item="item" collection="typeIds" open="(" separator="," close=")">
                  #{item}
              </foreach>
          </if>
          <if test="typeKey != null and typeKey != ''">
              and type_key = #{typeKey}
          </if>
          <if test="manufacturerName != null and manufacturerName != ''">
              and manufacturer_name like concat('%', #{manufacturerName}, '%')
          </if>
          <if test="modelName != null and modelName != ''">
              and model_name like concat('%', #{modelName}, '%')
          </if>
          <if test="productCode != null and productCode != ''">
              and product_code = #{productCode}
          </if>
      </where>
      order by id
  </select>

</mapper>
